<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body ng-app='app' ng-controller='MainCtrl'>
    <h1><%= title %></h1>
    <p>Welcome to <%= title %></p>
    {{2+2}}
    <form ng-submit="submitAnswer()">
      <input type="radio" value="true" ng-model="answer">True
      <input type="radio" value="false" ng-model="answer"> false
      <button type="submit">submit Answer</button>
    </form>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.15/angular-ui-router.min.js"></script>
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script>
      var app = angular.module('app',[]);
      var socket = io();
      app.controller('MainCtrl', function($scope) {
        socket.on('users count', function(msg){
          console.log(msg);
        });
        socket.on('hello', function(msg){
          console.log(msg)
        })




        $scope.submitAnswer = function() {
          console.log($scope.answer);
          socket.emit("answers", $scope.answer);
        }

      })
    </script>
  </body>
</html>
